<html>

<head>
    <script>
        var updateid=0;
        country = ["Austria", "Bhutan", "China", "Denmark"];
        function allCountry() {
            var htmlpage = "<table border='1'>"
            htmlpage += "<th>Country Name</th>";
            for (var i = 0; i < country.length; i++) {
                htmlpage += "<tr>";
                htmlpage += "<td>" + country[i] + "</td>";
                htmlpage +='<td><button onclick="edit('+i+')">Edit</button></td>';
                htmlpage += "<tr>";
            }
            htmlpage += "</table>";
            document.getElementById("table").innerHTML = htmlpage;
        }
        function addAndUpdate()
        {
            ((document.getElementById('buttonType').innerHTML=="Save")? this.add():this.update());
        }
        function add() {
            
            alert("add");
          
            var textboxvalue = document.getElementById('country');
            var addcountry = textboxvalue.value;
            country.push(addcountry);
            allCountry();
        }
        function edit(i)
        {
          document.getElementById('buttonType').innerHTML="update";
          document.getElementById('country').value=country[i];
          updateid = i;
          alert(updateid);
          allCountry();
        }
        function update()
        {
           var textboxvalue = document.getElementById('country');
           var updatecountry = textboxvalue.value
           alert(updatecountry);
           country[updateid] = updatecountry;
            allCountry();
             document.getElementById('country').value='';
            document.getElementById('buttonType').innerHTML="Save";
        }
    </script>
</head>

<body onload="allCountry()">
    <input type="text" id="country">
    <button type = "submit" onclick="addAndUpdate()" id ="buttonType">Save</button>
    <h1 id="table"></h1>
</body>

</html>